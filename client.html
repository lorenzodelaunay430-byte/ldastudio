<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Espace client ‚Äî LDA Studio</title>
  <link rel="icon" href="./assets/logo.svg" type="image/svg+xml"/>
  <link rel="stylesheet" href="./assets/style.css"/>
</head>
<body>

  <header class="navbar">
    <div class="container row">
      <div class="brand">
        <img src="./assets/logo.svg" alt="LDA Studio"/>
        <div class="t">
          <b>LDA Studio</b>
          <span>Espace client</span>
        </div>
      </div>
      <nav class="navlinks">
        <a href="./index.html">Accueil</a>
        <a class="btn ghost" href="./index.html#pricing">Offres</a>
        <button class="btn" id="btnTopLogout" style="display:none">D√©connexion</button>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:18px 0 30px;">
    <!-- AUTH -->
    <section id="auth" class="glass" style="padding:18px; margin-top:16px;">
      <div class="heroGrid" style="grid-template-columns: 1.05fr .95fr;">
        <div class="card" style="background:transparent; border-color: rgba(255,255,255,.10);">
          <div class="kicker">üîê Connexion s√©curis√©e</div>
          <h1 class="h1" style="margin-top:14px;">Connexion √† ton espace client</h1>
          <p class="sub">
            Connecte-toi avec Discord (1 clic) ou avec email + mot de passe.
            Ensuite tu auras tes projets, commandes, livrables et support.
          </p>
        </div>

        <div class="card">
          <h3>Se connecter</h3>
          <p class="small">Recommand√© : Discord.</p>

          <button class="btn primary" id="btnDiscord">üí¨ Continuer avec Discord</button>

          <div style="height:12px"></div>

          <div class="field">
            <label>Email</label>
            <input class="input" id="email" type="email" placeholder="client@exemple.com" autocomplete="email">
          </div>
          <div class="field">
            <label>Mot de passe</label>
            <input class="input" id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
          </div>

          <div style="display:flex; gap:10px;">
            <button class="btn" id="btnLogin" style="width:100%;">Connexion</button>
            <button class="btn" id="btnSignup" style="width:100%;">Cr√©er</button>
          </div>

          <p class="small" style="margin-top:12px;">
            Si la confirmation email est activ√©e, tu devras valider par mail.
          </p>
        </div>
      </div>
    </section>

    <!-- APP -->
    <section id="app" class="shell hide">
      <aside class="glass sidebar" style="display:flex; flex-direction:column;">
        <div style="display:flex; gap:10px; align-items:center; padding:10px;">
          <img src="./assets/logo.svg" alt="" style="width:38px; height:38px;">
          <div style="line-height:1.1;">
            <b style="font-size:13px; letter-spacing:.4px; text-transform:uppercase;">LDA Studio</b><br/>
            <span style="color:var(--muted); font-size:12px;">Espace client</span>
          </div>
        </div>

        <div class="nav" id="nav">
          <button class="active" data-page="dashboard"><span>Dashboard</span><small id="bDash">Live</small></button>
          <button data-page="projects"><span>Projets</span><small id="bProj">0</small></button>
          <button data-page="orders"><span>Commandes</span><small id="bOrders">0</small></button>
          <button data-page="deliverables"><span>Livrables</span><small id="bDeliv">0</small></button>
          <button data-page="support"><span>Support</span><small id="bTickets">0</small></button>
          <button data-page="settings"><span>Param√®tres</span><small>Pro</small></button>
        </div>

        <div class="userCard">
          <div class="avatar" id="avatar">LD</div>
          <div class="userMeta">
            <b id="userName">Utilisateur</b>
            <span id="userEmail">email@exemple.com</span>
          </div>
        </div>

        <div class="sideActions">
          <button class="btn" id="btnLogout">D√©connexion</button>
        </div>
      </aside>

      <section class="glass main">
        <div class="topbar">
          <div>
            <h1 id="pageTitle">Dashboard</h1>
            <p id="pageSub">Bienvenue. Tout est centralis√© ici.</p>
          </div>
          <div class="pills">
            <div class="pill" id="pillProvider">Provider: ‚Äî</div>
            <div class="pill" id="pillPlan">Plan: ‚Äî</div>
          </div>
        </div>

        <!-- Dashboard -->
        <div class="page" id="page-dashboard">
          <div class="grid3">
            <div class="metric"><b id="mProjects">0</b><span>Projets</span></div>
            <div class="metric"><b id="mOrders">0</b><span>Commandes</span></div>
            <div class="metric"><b id="mTickets">0</b><span>Tickets</span></div>
          </div>

          <div class="panel">
            <div class="panelHead">
              <b>Activit√©</b>
              <span>Derniers √©v√©nements</span>
            </div>
            <table class="table">
              <thead><tr><th>Date</th><th>√âv√©nement</th><th>D√©tail</th></tr></thead>
              <tbody id="activity">
                <tr><td>‚Äî</td><td>‚Äî</td><td>Connecte-toi pour voir tes donn√©es.</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Projects -->
        <div class="page hide" id="page-projects">
          <div class="panel">
            <div class="panelHead">
              <b>Projets</b><span>Suivi</span>
            </div>
            <table class="table">
              <thead><tr><th>Nom</th><th>Statut</th><th>MAJ</th></tr></thead>
              <tbody id="projectsBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Orders -->
        <div class="page hide" id="page-orders">
          <div class="panel">
            <div class="panelHead">
              <b>Commandes</b><span>Historique</span>
            </div>
            <table class="table">
              <thead><tr><th>Plan</th><th>Montant</th><th>Statut</th><th>Date</th></tr></thead>
              <tbody id="ordersBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Deliverables -->
        <div class="page hide" id="page-deliverables">
          <div class="panel">
            <div class="panelHead">
              <b>Livrables</b><span>√Ä connecter √† Supabase Storage</span>
            </div>
            <p style="margin:0; color:var(--muted); font-size:13px; line-height:1.6;">
              Pour le moment, on affiche la liste depuis la table <b>deliverables</b>.
              Tu peux ensuite basculer vers Supabase Storage (bucket).
            </p>

            <div style="height:10px"></div>
            <table class="table">
              <thead><tr><th>Nom</th><th>Type</th><th>Lien</th><th>Date</th></tr></thead>
              <tbody id="deliverablesBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Support -->
        <div class="page hide" id="page-support">
          <div class="panel">
            <div class="panelHead">
              <b>Support</b><span>Cr√©er un ticket</span>
            </div>

            <div class="field">
              <label>Sujet</label>
              <input class="input" id="ticketSubject" placeholder="Ex: J‚Äôai besoin d‚Äôune landing pour mon activit√©">
            </div>
            <div class="field">
              <label>Message</label>
              <textarea id="ticketMessage" placeholder="D√©cris ton besoin, le plus pr√©cis possible."></textarea>
            </div>
            <button class="btn primary" id="btnSendTicket">Envoyer</button>

            <div style="height:12px"></div>

            <table class="table">
              <thead><tr><th>ID</th><th>Sujet</th><th>Statut</th><th>Date</th></tr></thead>
              <tbody id="ticketsBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Settings -->
        <div class="page hide" id="page-settings">
          <div class="panel">
            <div class="panelHead">
              <b>Param√®tres</b><span>Profil</span>
            </div>

            <div class="field">
              <label>Nom affich√©</label>
              <input class="input" id="profileName" placeholder="Ton nom">
            </div>

            <button class="btn primary" id="btnSaveProfile">Sauvegarder</button>
          </div>
        </div>

      </section>
    </section>
  </main>

  <script type="module" src="./assets/client.js"></script>
</body>
</html>
